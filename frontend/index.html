<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unixporn Love</title>
    <!--Bootsrap CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <!--FontAwesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
    <!--Slick-->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <!--Custom CSS-->
    <link rel="stylesheet" href="css/micromodal.css">
    <link rel="stylesheet" href="css/main.css"></link>
    <link rel="stylesheet" href="css/reddit.css">
</head>
<body>
    <section id="navbar">
        <nav class="navbar navbar-light bg-white shadow-md px-5">
            <a class="navbar-brand" href="#">UnixPorn &nbsp;<i class="fas fa-heart upvote-color"></i></a>
          </nav>
    </section>
    <section id="body">
        <section id="modal">
            <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
                <div class="modal__overlay" tabindex="-1" data-micromodal-close>
                  <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
                    <header class="modal__header">
                      <h2 class="lineto-medium px-3" id="modal-1-title">
                        {{getModalHeaderTitle}}
                      </h2>
                      <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
                    </header>
                    <main class="modal__content lineto-medium" id="modal-1-content">
                      <div class="container-fluid row">
                          <div class="col-md-8 col-lg-8">
                              <img :src="getModalImg" alt="" class="img-fluid">
                          </div>
                          <div class="col-lg-4 my-auto pl-5">
                              <h3 class="pb-3">
                                {{getModalTitle}}
                              </h3>
                                <h5>
                                    <span class="upvote-color">{{getModalUps}}</span> upvotes in {{getModalHours}}
                                </h5>
                                <div id="button-container" class="mt-5">
                                    <a :href="getModalURL">
                                        <button type="button" class="button btn-light shadow">check post</button>
                                    </a>
                                </div>
                          </div>
                      </div>
                    </main>
                    <!--footer-- class="modal__footer">
                      <button class="modal__btn modal__btn-primary">Continue</button>
                      <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
                    </!--footer-->
                  </div>
                </div>
              </div>
        </section>
        <section id="top-post">
            <div id="top-post-container" class="row container-fluid pt-5 px-4">
                <div class="col-md-8">
                    <img :src="getTopPost.data.url" alt="Top Post image" class="top-post-img rounded-xl shadow">
                </div>
                <div class="col-md-4">
                    <h1 class="display-3">Top Post</h1>
                    <div id="card-details" class="mt-5 py-4 px-4 bg-white rounded-xl shadow">
                        <span id="flair" class="bg-screenshot">
                            {{getTopPost.data.link_flair_text}}
                        </span>
                        <h1 id="title" class="py-3">{{getTopPost.data.title}}</h1>
                        <h4 class="text-dark">
                            {{getDiffHours(getTopPost.data.created_utc)}} ago 
                            <span class="text-muted">by</span> u/{{getTopPost.data.author}}
                        </h4>
                        <h4 class="text-dark">
                            <span class="upvote-color">{{getTopPost.data.ups}}</span> upvotes 
                            <span>
                                &nbsp;&bullet;&nbsp;<span class="upvote-color">{{calcPercentage(getTopPost.data)}}%</span> upvoted
                            </span>  
                        <div id="button-container" class="mt-5">
                            <a :href="getFullUri(getTopPost.data.permalink)">
                                <button type="button" class="button btn-light shadow">check post</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section v-if="showTop" id="trending">
            <div class="pt-5 mt-5 container-fluid px-5">
                <h1 class="display-4 pl-3">Trending Posts</h1>
                <div class="pt-3 pl-5" id="cards-container-trending">
                    <div id="card" class="bg-white small-card rounded-lg shadow" v-for="(post, id) in getPosts" :key="id">
                        <img :src="post.data.url" alt="" class="img-fluid-card rounded-top">
                        <div id="details" class="pt-4 pb-3 px-3">
                            <h4 v-if="post.data.title.length < 33">{{post.data.title}}</h4>
                            <h4 v-else>{{post.data.title.substring(0, 30) + ".."}}</h4>
                            <h5 class="text-dark"><span class="upvote-color">{{post.data.ups}}</span> upvotes &nbsp;&bullet;&nbsp;u/{{post.data.author}}</h5>
                        </div>
                        <div id="btn-container">
                            <button type="button" class="btn-card-overlay btn-light shadow" @click="popup(id, 'trending')">
                                More details
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section v-if="showLatest" id="latest">
            <div class="py-3 container-fluid px-5">
                <h1 class="display-4 pl-3">Latest Posts</h1>
                <div class="pt-3 pl-3" id="cards-container-latest">
                    <div id="card" class="bg-white small-card rounded-lg shadow" v-for="(post, id) in getLatestPosts" :key="id">
                        <img :src="post.data.url" alt="" class="img-fluid-card rounded-top">
                        <div id="details" class="pt-4 pb-3 px-3">
                            <h4 v-if="post.data.title.length < 33">{{post.data.title}}</h4>
                            <h4 v-else>{{post.data.title.substring(0, 30) + ".."}}</h4>
                            <h5 class="text-dark"><span class="upvote-color">{{post.data.ups}}</span> upvotes &nbsp;&bullet;&nbsp;u/{{post.data.author}}</h5>
                        </div>
                        <div id="btn-container">
                            <button type="button" class="btn-card-overlay btn-light shadow" @click="popup(id, 'latest')">
                                More details
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
    <section id="footer">
        <div id="footer-container" class="py-5 mt-5 px-5 mr-0 bg-white">
            <div class="row container-fluid mr-0">
                <div class="col-md-6 col-lg-6">
                    <h2>Built with &nbsp;<i class="fas fa-sm fa-heart upvote-color"></i>&nbsp; in a *nix OS</h2>
                    <h6 class="mt-3 text-dark"><a href="deepjyoti30.github.io" class="text-dark">Deepjyoti Barman</a> &nbsp;&bullet;&nbsp; 2020</h6>
                </div>
                <div id="share-items" class="col-md-6 col-lg-6">
                    <ul class="list-inline">
                        <li class="list-inline-item twitter-item">
                            <a href="https://twitter.com/DeepBarman30">
                                <i class="fab fa-2x fa-twitter"></i>
                            </a>
                        </li>
                        <li class="list-inline-item github-item">
                            <a href="https://github.com/deepjyoti30">
                                <i class="fab fa-2x fa-github"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!--Bootstrap JS files-->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
    <!--Slick-->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <!--MicroModal-->
    <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
    <!--Vue-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <!--Custom CSS-->
    <script src="js/fetch.js"></script>
</body>
</html>